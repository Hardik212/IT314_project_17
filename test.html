<!DOCTYPE html>
<html>
<head>
    <title>Input to JSON Conversion</title>
    <script>
        function convertInputToJSON(){
            var inputString = document.getElementById("inputString").value;
            var inputStringArray = inputString.split('Question');
            //  also take care of the last element 
            var questionarray = [];
            // for every element split the array by type
            for(var i=0; i<inputStringArray.length; i++){
                if(i == 0 || i == inputStringArray.length-1){
                    continue;
                }
                else{
                    var temp = inputStringArray[i].split('\n');
                    questionarray.push(temp);
                }
            }
            let questionsobj = [];
            for(let i = 0;i<questionarray.length;i++){
                let questionobj = {};
                questionobj['question'] = questionarray[i][1];
                if(questionarray[i][2] == 'Type:Text'){
                    questionobj['type'] = 1;
                }else if(questionarray[i][2] == 'Type:Option'){
                    questionobj['type'] = 2;
                    let options = [];
                    for(let j = 3;j<questionarray[i].length;j++){
                        if(questionarray[i][j] != '')
                            options.push(questionarray[i][j]);
                    }
                    questionobj['options'] = options;
                }
                questionsobj.push(questionobj);
            }
            console.log(questionsobj);
            document.getElementById("outputJSON").innerHTML = JSON.stringify(questionsobj);
        }
    </script>
    <style>
        #inputString{
            width: 250px;
            height: 250px;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <h3>Input</h3>
    <textarea id="inputString" placeholder="Enter input here"></textarea>
    <be>
    <button onclick="convertInputToJSON()">Convert to JSON</button>
    <br><br>
    <h3be>Output</h3>
    <div id="outputJSON">
    </div>
</body>
</html>